<html>
	<head>
		<title>VR with AFrame and ThreeJS</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
        <script src="src/threejs/QuickHull.js"></script>
        <script src="src/threejs/ConvexGeometry.js"></script>

	</head>
	<body>

<script>
AFRAME.registerComponent('log', {
  schema: {type: 'string'},

  init: function () {
    var stringToLog = this.data;
    console.log(stringToLog);
  }
});

AFRAME.registerComponent('mythreejsthing', {
  schema: {
    // ... Define schema to pass properties from DOM to this component
  },

  init: function () {
    var el = this.el;  // Entity.
    //var geometry = new THREE.BoxGeometry( 1, 1, 1);
    //var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );
    //var mythreejsobject = new THREE.Mesh( geometry, material );
    
    let a = new THREE.Vector3( 10, 0, 0 );
    let b = new THREE.Vector3( 0, 10, 0 );
    let c = new THREE.Vector3( 0, 0, 10 );
    let d = new THREE.Vector3( 0, 0, 0 );
    let vertices = [a,b,c,d];
    let geometry = new THREE.ConvexGeometry( vertices );
	let material = new THREE.MeshPhongMaterial( { color: 0x00ff00, side: THREE.DoubleSide} );
	//let material = new THREE.MeshNormalMaterial();
    let mythreejsobject = new THREE.Mesh( geometry, material );
    
    
    el.setObject3D('mesh', mythreejsobject);
  }
});
</script>


<a-scene>
<!--  

  <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
  <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
  <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>

  -->
    <a-sky color="#ECECEC"></a-sky>
    <!--a-entity id="polytope" mythreejsthing="" position="-1 0.5 -3" rotation="0 45 0"></a-entity-->
    <a-entity id="polytope inside" mythreejsthing="" position="-1.73 -2.06 -0.22" rotation="0 45 0"></a-entity>
    <a-entity log="Hello, Console"></a-entity>
</a-scene>


<script>
var sceneEl = document.querySelector('a-scene');
var box = sceneEl.querySelector('#polytope')
</script>
	</body>
</html>
